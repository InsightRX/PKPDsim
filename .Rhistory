n = 3,
times = NULL,
type = "bolus",
t_inf = 1) {
reg <- structure(list(amt = amt,
interval = interval,
n=n,
type=type,
t_inf = t_inf), class = "regimen")
return(reg)
}
regimen <- function(amt = 100,
interval = 12,
n = 3,
times = NULL,
type = "bolus",
t_inf = 1) {
reg <- structure(list(amt = amt,
interval = interval,
n=n,
type=type,
t_inf = t_inf), class = "regimen")
return(reg)
}
regimen()
regimen(type = "infusion")
library(PKPDsim)
?regimen
source('~/git/PKPDsim/R/regimen.R', echo=TRUE)
regimen()
source('~/git/PKPDsim/R/regimen.R', echo=TRUE)
regimen()
source('~/.active-rstudio-document', echo=TRUE)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
r1 <- regimen(amt = 100,
times = c(0, 24, 36),
type = "infusion")
dat <- sim_ode (ode = pk_3cmt_iv,
par = p,
regimen = r1)
dat
p <- list(CL = 38.48,
V  = 7.4,
Q2 = 7.844,
V2 = 5.19,
Q3 = 9.324,
V3 = 111)
r1 <- regimen(amt = 100,
times = c(0, 24, 36),
type = "infusion")
dat <- sim_ode (ode = pk_3cmt_iv,
par = p,
regimen = r1)
ggplot(dat, aes(x=t, y=y)) +
geom_line() +
scale_y_log10() +
facet_wrap(~comp)
library(ggplot2)
ggplot(dat, aes(x=t, y=y)) +
geom_line() +
scale_y_log10() +
facet_wrap(~comp)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = regimen())
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = regimen())
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = regimen())
source('~/git/PKPDsim/R/examples/sim_pk.R', echo=TRUE)
source('~/git/PKPDsim/R/sim_ode_shiny.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = regimen())
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = regimen())
source('~/git/PKPDsim/R/sim_ode_shiny.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = regimen())
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = regimen())
source('~/git/PKPDsim/R/examples/sim_pk.R', echo=TRUE)
source('~/git/PKPDsim/R/examples/sim_pk.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
library(PKPDsim)
# Simulate:
p <- list(CL = 38.48,
V  = 7.4,
Q2 = 7.844,
V2 = 5.19,
Q3 = 9.324,
V3 = 111)
r1 <- regimen(amt = 100,
times = c(0, 24, 36),
type = "infusion")
dat <- sim_ode (ode = pk_3cmt_iv,
par = p,
regimen = r1)
# Plots
ggplot(dat, aes(x=t, y=y)) +
geom_line() +
scale_y_log10() +
facet_wrap(~comp)
# Now with IIV on CL and V
omega <- c(0.3,
0.1, 0.3)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
source('~/git/PKPDsim/R/new_regimen.R', echo=TRUE)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
regimen
rm(regimen)
library(PKPDsim)
library(ggplot2)
# Simulate:
p <- list(CL = 38.48,
V  = 7.4,
Q2 = 7.844,
V2 = 5.19,
Q3 = 9.324,
V3 = 111)
r1 <- regimen(amt = 100,
times = c(0, 24, 36),
type = "infusion")
dat <- sim_ode (ode = pk_3cmt_iv,
par = p,
regimen = r1)
# Plots
ggplot(dat, aes(x=t, y=y)) +
geom_line() +
scale_y_log10() +
facet_wrap(~comp)
# Now with IIV on CL and V
omega <- c(0.3,
0.1, 0.3)
dat_iiv <- sim_ode (ode = pk_3cmt_iv,
par = p,
omega = omega,
n_ind = 10,
regimen = regimen)
ggplot(dat_iiv, aes(x=t, y=y, colour=factor(id), group=id)) +
geom_line() +
scale_y_log10() +
facet_wrap(~comp)
# now create a shiny app on-the-fly using the same parameters
# but with the sim_ode_shiny() function
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
regimen
rm(PKPDsim::regimen())
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
r1
regimen
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/sim_ode_shiny.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
if(regimen$type == "infusion") {
if(!is.null(regimen$inf_time)) {
p$inf_time <- regimen$inf_time
} else {
p$inf_time <- 1
}
p$dose_type <- "infusion"
design <- data.frame(rbind(cbind(t=regimen$dose_times, dose = regimen$dose_amts), cbind(t=regimen$dose_times + p$inf_time, dose=0))) %>%
dplyr::arrange(t)
} else {
p$dose_type <- "bolus"
design <- data.frame(rbind(cbind(t=regimen$dose_times, dose = regimen$dose_amts)))
}
regimen$dose_times
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
regimen$dose_times
regimen$dose_amts
regimen$dose_times
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
source('~/git/PKPDsim/R/sim_ode_shiny.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/sim_ode_shiny.R', echo=TRUE)
source('~/git/PKPDsim/R/server_text.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
library(PKPDsim)
library(ggplot2)
# Simulate:
p <- list(CL = 38.48,
V  = 7.4,
Q2 = 7.844,
V2 = 5.19,
Q3 = 9.324,
V3 = 111)
r1 <- regimen(amt = 100,
times = c(0, 24, 36),
type = "infusion")
dat <- sim_ode (ode = pk_3cmt_iv,
par = p,
regimen = r1)
# Plots
ggplot(dat, aes(x=t, y=y)) +
geom_line() +
scale_y_log10() +
facet_wrap(~comp)
# Now with IIV on CL and V
omega <- c(0.3,
0.1, 0.3)
dat_iiv <- sim_ode (ode = pk_3cmt_iv,
par = p,
omega = omega,
n_ind = 10,
regimen = regimen)
ggplot(dat_iiv, aes(x=t, y=y, colour=factor(id), group=id)) +
geom_line() +
scale_y_log10() +
facet_wrap(~comp)
# now create a shiny app on-the-fly using the same parameters
# but with the sim_ode_shiny() function
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
library(PKPDsim)
# now create a shiny app on-the-fly using the same parameters
# but with the sim_ode_shiny() function
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
r1 <- regimen(amt = 100,
times = c(0, 24, 36),
type = "infusion")
r1 <- new_regimen(amt = 100,
times = c(0, 24, 36),
type = "infusion")
r1
source('~/git/PKPDsim/R/new_regimen.R', echo=TRUE)
library(PKPDsim)
r1 <- new_regimen(amt = 100,
times = c(0, 24, 36),
type = "infusion")
r1
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
# Simulate:
p <- list(CL = 38.48,
V  = 7.4,
Q2 = 7.844,
V2 = 5.19,
Q3 = 9.324,
V3 = 111)
r1 <- new_regimen(amt = 100,
times = c(0, 24, 36),
type = "infusion")
dat <- sim_ode (ode = pk_3cmt_iv,
par = p,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
omega <- c(0.3,       # IIV CL
0.1, 0.3)  # IIV V
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
r1
source('~/git/PKPDsim/R/server_text.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/server_text.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
regimen$dose_times
regimen$dose_amts
p$t_inf
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
design <- data.frame(rbind(cbind(t=regimen$dose_times, dose = regimen$dose_amts), cbind(t=regimen$dose_times + regimen$t_inf, dose=0))) %>%
dplyr::arrange(t)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/sim_ode.R', echo=TRUE)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
source('~/git/PKPDsim/R/ui_text.R', echo=TRUE)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
library(PKPDsim)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega,
regimen = r1)
library(PKPDsim)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
p <- list(CL = 38.48,
V  = 7.4,
Q2 = 7.844,
V2 = 5.19,
Q3 = 9.324,
V3 = 111)
r1 <- new_regimen(amt = 100,
times = c(0, 24, 36),
type = "infusion")
dat <- sim_ode (ode = pk_3cmt_iv,
par = p,
regimen = r1)
omega <- c(0.3,       # IIV CL
0.1, 0.3)  # IIV V
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
sim_ode_shiny(ode = pk_3cmt_iv,
par = p,
omega = omega)
